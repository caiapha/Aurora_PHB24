<?xml version="1.0" encoding="utf-8"?>
<elements>
  <info>
    <update version="1.0.0">
      <file name="rogue-arcane_trickster-2024.xml" url="https://raw.githubusercontent.com/caiapha/Aurora_PHB24/refs/heads/main/Players-Hanbook/rogue-arcane_trickster-2024.xml" />
    </update>
    <author url="https://marketplace.dndbeyond.com/core-rules/3709000">Wizards of the Coast</author>
  </info>

  <!-- ===================== ROGUE SUBCLASS â€” arcane trickster (PHB 2024) ===================== -->
  <element name="Arcane Trickster" type="Archetype" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCHETYPE_ARCANE_TRICKSTER">
    <supports>RogueSubclass</supports>
    <description>
      <h1>arcane trickster</h1>
      <p>Some rogues augment their stealth and agility with arcane magic, using cantrips and spells to misdirect, disable, and strike at the perfect moment.</p>

      <h3>Subclass Features</h3>
      <p>When you choose this subclass at 3rd level, you gain the following features.</p>

      <div element="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELLCASTING" />
      <div element="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGE_HAND_LEGERDEMAIN" />
      <div element="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGICAL_AMBUSH" />
      <div element="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_VERSATILE_TRICKSTER" />
      <div element="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELL_THIEF" />
    </description>

    <sheet display="false" />
    <rules>
      <grant type="Archetype Feature" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELLCASTING"           level="3" />
      <grant type="Archetype Feature" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGE_HAND_LEGERDEMAIN"   level="3" />
      <grant type="Archetype Feature" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGICAL_AMBUSH"          level="9" />
      <grant type="Archetype Feature" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_VERSATILE_TRICKSTER"     level="13" />
      <grant type="Archetype Feature" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELL_THIEF"             level="17" />
    </rules>
  </element>

  <!-- ===== Level 3: Spellcasting (arcane trickster) ===== -->
  <element name="Spellcasting (arcane trickster)" type="Archetype Feature" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELLCASTING">
    <description>
      <p>You learn to cast spells. See chapter 7 for the general rules of spellcasting. The details below describe how you use those rules with Rogue spells.</p>

      <h5>Cantrips</h5>
      <p>You know three cantrips: <em>Mage Hand</em> and two other cantrips of your choice from the Wizard spell list. Whenever you gain a Rogue level, you can replace one of your cantrips, except <em>Mage Hand</em>, with another Wizard cantrip of your choice. When you reach Rogue level 10, you learn one additional Wizard cantrip of your choice.</p>

      <h5>Spell Slots</h5>
      <p>The arcane trickster Spellcasting table shows how many spell slots you have to cast your 1st-level and higher spells. You regain all expended spell slots when you finish a Long Rest.</p>

      <h5>Prepared Spells of Level 1+</h5>
      <p>You prepare Rogue spells (chosen from the Wizard list). To start, choose three 1st-level spells. Your number of prepared spells increases as you gain Rogue levels, as shown in the Prepared Spells column of the arcane trickster table. The spells must be of a level for which you have spell slots.</p>

      <h5>Spellcasting Ability</h5>
      <p>Intelligence is your spellcasting ability for your arcane trickster spells.</p>
      <center>
        <p><strong>Spell Save DC</strong> = 8 + your proficiency bonus + your Intelligence modifier</p>
        <p><strong>Spell Attack Modifier</strong> = your proficiency bonus + your Intelligence modifier</p>
      </center>

      <h5 class="caption">arcane trickster SPELLCASTING</h5>
      <table>
        <thead>
          <tr><th>Rogue Lvl</th><th>Prepared Spells</th><th>1st</th><th>2nd</th><th>3rd</th><th>4th</th></tr>
        </thead>
        <tbody>
          <tr><td> 3</td><td>3</td><td>2</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 4</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 5</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 6</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 7</td><td>6</td><td>4</td><td>2</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 8</td><td>6</td><td>4</td><td>2</td><td>â€”</td><td>â€”</td></tr>
          <tr><td> 9</td><td>6</td><td>4</td><td>2</td><td>â€”</td><td>â€”</td></tr>
          <tr><td>10</td><td>7</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td></tr>
          <tr><td>11</td><td>7</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td></tr>
          <tr><td>12</td><td>7</td><td>4</td><td>3</td><td>â€”</td><td>â€”</td></tr>
          <tr><td>13</td><td>9</td><td>4</td><td>3</td><td>2</td><td>â€”</td></tr>
          <tr><td>14</td><td>9</td><td>4</td><td>3</td><td>2</td><td>â€”</td></tr>
          <tr><td>15</td><td>9</td><td>4</td><td>3</td><td>2</td><td>â€”</td></tr>
          <tr><td>16</td><td>10</td><td>4</td><td>3</td><td>3</td><td>â€”</td></tr>
          <tr><td>17</td><td>10</td><td>4</td><td>3</td><td>3</td><td>â€”</td></tr>
          <tr><td>18</td><td>10</td><td>4</td><td>3</td><td>3</td><td>â€”</td></tr>
          <tr><td>19</td><td>11</td><td>4</td><td>3</td><td>3</td><td>1</td></tr>
          <tr><td>20</td><td>11</td><td>4</td><td>3</td><td>3</td><td>1</td></tr>
        </tbody>
      </table>
    </description>
    <sheet display="false" />

    <spellcasting name="arcane trickster" ability="Intelligence" prepare="true" allowReplace="true">
      <list>WizardPHB24</list>
    </spellcasting>

    <rules>

      <!-- Prepared spells progression -->
      <stat name="arcane trickster:spellcasting:prepare" value="3"  level="3" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="4" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="7" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="8" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="10" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="11" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="13" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="14" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="16" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="19" />
      <stat name="arcane trickster:spellcasting:prepare" value="1"  level="20" />
      
      <!-- Spell slots (third-caster progression) -->
      <!-- 1st -->
      <stat name="arcane trickster:spellcasting:slots:1" value="2" level="3" />
      <stat name="arcane trickster:spellcasting:slots:1" value="1" level="4" />
      <stat name="arcane trickster:spellcasting:slots:1" value="1" level="7" />
      <!-- 2nd -->
      <stat name="arcane trickster:spellcasting:slots:2" value="2" level="7" />
      <stat name="arcane trickster:spellcasting:slots:2" value="1" level="10" />
      <!-- 3rd -->
      <stat name="arcane trickster:spellcasting:slots:3" value="2" level="13" />
      <stat name="arcane trickster:spellcasting:slots:3" value="1" level="16" />
      <!-- 4th -->
      <stat name="arcane trickster:spellcasting:slots:4" value="1" level="19" />
    
      <grant  level="3" type="Spell" id="ID_PHB24_SPELL_MAGE_HAND" spellcasting="arcane trickster" /> 
      <select level="3" type="Spell" name="Cantrip (arcane trickster)" supports="$(spellcasting:list), 0"  number="2" spellcasting="arcane trickster" />
	    <select level="10" type="Spell" name="Cantrip (arcane trickster)" supports="$(spellcasting:list), 0"  number="1" spellcasting="arcane trickster" />

      <select level="3" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="3" spellcasting="arcane trickster" />
	    <select level="4" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="7" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="8" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="10" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="11" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="13" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="14" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="16" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="19" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
      <select level="20" type="Spell" name="Spell (arcane trickster)" supports="$(spellcasting:list), $(spellcasting:slots)" number="1" spellcasting="arcane trickster" />
    </rules>
  </element>

  <!-- ===== Level 3: Mage Hand Legerdemain ===== -->
  <element name="Mage Hand Legerdemain" type="Archetype Feature" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGE_HAND_LEGERDEMAIN">
    <description>
      <p>When you cast <em>Mage Hand</em>, you can cast it as a Bonus Action, and you can make the spectral hand Invisible. You can control the hand as a Bonus Action, and through it you can make Dexterity (Sleight of Hand) checks. The hand can stow or retrieve an object; it can pick locks and disarm traps using your Thievesâ€™ Tools if they are within 30 feet of you and the hand.</p>
    </description>
    <sheet action="Bonus Action">
      <description>You cast Mage Hand which can be Invisible. You can control as a Bonus Action and make Sleight of Hand checks through it, including using Thievesâ€™ Tools within 30 ft.</description>
    </sheet>
  </element>

  <!-- ===== Level 9: Magical Ambush ===== -->
  <element name="Magical Ambush" type="Archetype Feature" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_MAGICAL_AMBUSH">
    <description>
      <p>When you cast a spell targeting a creature while you are Hidden from it, that creature has Disadvantage on any saving throw it makes against the spell on that turn.</p>
    </description>
    <sheet>
      <description>If you are Invisible while casting a spell on a creature, it has Disadvantage on its saving throw against that spell on that turn.</description>
    </sheet>
  </element>

  <!-- ===== Level 13: Versatile Trickster ===== -->
  <element name="Versatile Trickster" type="Archetype Feature" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_VERSATILE_TRICKSTER">
    <description>
      <p><strong>Bonus Action.</strong> You can direct your <em>Mage Hand</em> to distract a creature you can see that is within 5 feet of the hand. You have Advantage on the next attack roll you make against that creature this turn.</p>
    </description>
    <sheet>
      <description>While using the Trip effect on Cunning Strike, using your Mage Hand, you can apply the same effect to a another creature within 5 ft of it.</description>
    </sheet>
  </element>

  <!-- ===== Level 17: Spell Thief ===== -->
  <element name="Spell Thief" type="Archetype Feature" source="Player's Handbook (2024)" id="ID_WOTC_PHB24_ROGUE_ARCANE_TRICKSTER_FEATURE_SPELL_THIEF">
    <description>
      <p><strong>Reaction.</strong> Immediately after a creature you can see casts a spell that targets only you, you can force that creature to make a saving throw using its spellcasting ability. On a failed save, you negate the spellâ€™s effect on you, and you steal knowledge of that spell for 8 hours. During that time, you can cast the spell once without expending a spell slot, and the caster canâ€™t cast it. Once you use this feature, you canâ€™t use it again until you finish a Long Rest.</p>
    </description>
    <sheet action="Reaction" usage="1/Long Rest">
      <description>When a creature casts any spell that targets you, the creature must make a INT Saving Throw DC{{arcane trickster:spellcasting:dc}}. On a failure, you negate the spell effect on you and learn it for 8 hours; you can cast it if you have a spell slot of adequate level, and the caster canâ€™t cast it.</description>
    </sheet>
  </element>
</elements>



